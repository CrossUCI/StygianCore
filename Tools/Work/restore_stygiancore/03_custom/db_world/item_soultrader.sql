/*
-- ################################################################################### --
--  ____    __                                         ____                           
-- /\  _`\ /\ \__                  __                 /\  _`\                         
-- \ \,\L\_\ \ ,_\  __  __     __ /\_\     __      ___\ \ \/\_\    ___   _ __    __   
--  \/_\__ \\ \ \/ /\ \/\ \  /'_ `\/\ \  /'__`\  /' _ `\ \ \/_/_  / __`\/\`'__\/'__`\ 
--    /\ \L\ \ \ \_\ \ \_\ \/\ \L\ \ \ \/\ \L\.\_/\ \/\ \ \ \L\ \/\ \L\ \ \ \//\  __/ 
--    \ `\____\ \__\\/`____ \ \____ \ \_\ \__/.\_\ \_\ \_\ \____/\ \____/\ \_\\ \____\
--     \/_____/\/__/ `/___/> \/___L\ \/_/\/__/\/_/\/_/\/_/\/___/  \/___/  \/_/ \/____/
--                      /\___/ /\____/                                                
--                      \/__/  \_/__/          http://stygianthebest.github.io                                         
-- 
-- ################################################################################### --
--
-- WORLD: ETHEREAL SOUL TRADER (PERSONAL TOKEN VENDOR)
-- NPC ID: 27914
--
-- Updates the Ethereal Soul Trader pet to makes it useful as a personal vendor.
--
-- ################################################################################### --
*/

USE stygian_world;

-- --------------------------------------------------------------------------------------
--	Enable Repairs
-- --------------------------------------------------------------------------------------
UPDATE creature_template SET npcflag = 4225 WHERE entry = 27914;

-- --------------------------------------------------------------------------------------
--	Original Items
-- --------------------------------------------------------------------------------------
/*
2412 - Ethereal Credit x 25
2411 - Ethereal Credit x 50
2408 - Ethereal Credit x 100
2409 - Ethereal Credit x 250
2407 - Ethereal Credit x 500
2410 - Ethereal Credit x 1000
*/

-- --------------------------------------------------------------------------------------
-- Clean Up
-- --------------------------------------------------------------------------------------
DELETE FROM npc_vendor -- Existing Items
WHERE entry = 27914 and item IN (38291, 38294, 38300, 38308, 17031, 3386, 13462);

DELETE FROM npc_vendor -- Currency Tokens
WHERE entry = 27914 and item IN (26044,26045,20558,20559,20560,29024,29434,40752,40753,41596,42425,43016,43228,43589,44990,45624,47241,47395,49426,47557,47558,47559,24579,24581,24245,28558,29736,29735);

-- --------------------------------------------------------------------------------------
-- Add Updated Items
-- --------------------------------------------------------------------------------------
INSERT INTO npc_vendor (`entry`, `slot`, `item`, `maxcount`, `incrtime`, `ExtendedCost`) VALUES 
(27914, 0, 38291, 0, 0, 0),
(27914, 0, 38294, 0, 0, 0),
(27914, 0, 38300, 0, 0, 0),
(27914, 0, 38308, 0, 0, 0),
(27914, 0, 17031, 0, 0, 0),
(27914, 0, 3386, 0, 0, 0),
(27914, 0, 13462, 0, 0, 0);

-- --------------------------------------------------------------------------------------
-- Add Currency Tokens
-- --------------------------------------------------------------------------------------
INSERT INTO npc_vendor (entry, item) VALUES 
-- Add Currency Tokens
('27914','26044'), -- Halaa Research Token
('27914','26045'), -- Halaa Battle Token
('27914','20558'),
('27914','20559'),
('27914','20560'),
('27914','29024'),
('27914','29434'),
('27914','40752'),
('27914','40753'),
('27914','41596'),
('27914','42425'),
('27914','43016'),
('27914','43228'),
('27914','43589'),
('27914','44990'),
('27914','45624'),
('27914','47241'),
('27914','47395'),
('27914','49426'),
('27914','47557'),
('27914','47558'),
('27914','47559'),
('27914','24579'), 
('27914','24581'), 
('27914','24245'), 
('27914','28558'), 
('27914','29736'), 
('27914','29735');

-- --------------------------------------------------------------------------------------
--	ETHEREAL SOUL TRADER PRICES
--	CURRENCY CONVERSION
-- --------------------------------------------------------------------------------------
SET @1C :=1;				--	   1 Copper
SET @5C :=5;				--	   5 Copper
SET @10C :=10;				--	   10 Copper
SET @25C :=25;				--	   25 Copper
SET @50C :=50;				--	   50 Coarse
SET @75C :=75;				--	   75 Copper
SET @1S :=100;				--	   1 Silver
SET @2S :=200;				--	   2 Silver
SET @3S :=300;				--	   3 Silver
SET @4S :=400;				--	   4 Silver
SET @5S :=500;				--	   5 Silver
SET @10S :=1000;			--	   10 Silver
SET @15S :=1500;			--		15 Silver
SET @20S :=2000;			--	   20 Silver
SET @25S :=2500;			--	   25 Silver
SET @50S :=5000;			--	   50 Silver
SET @75S :=7500;			--	   75 Silver
SET @1G :=10000; 			--     1 Gold

UPDATE item_template SET buyprice=@75S WHERE entry = 38291; 	-- Etheral Mutagen
UPDATE item_template SET buyprice=@50S WHERE entry = 38294; 	-- Ethereal Liquour
UPDATE item_template SET buyprice=@25S WHERE entry = 38300; 	-- Diluted Etheraum Essence
UPDATE item_template SET buyprice=@50S WHERE entry = 38308; 	-- Ethereal Essence Sphere
UPDATE item_template SET sellprice=@10S WHERE entry = 38291; 	-- Etheral Mutagen
UPDATE item_template SET sellprice=@5S WHERE entry = 39294; 	-- Ethereal Liquour
UPDATE item_template SET sellprice=@1S WHERE entry = 38300; 	-- Diluted Etheraum Essence
UPDATE item_template SET sellprice=@5S WHERE entry = 38308; 	-- Ethereal Essence Sphere
